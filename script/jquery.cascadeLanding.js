(function(d){var c=function(o){var l=this;var o=d(o);var a=o.find(".cascade-window");var m=o.find(".cascade-menu li");var n=o.find(".cascade-navigation");var b="";var k="";var p=true;this.load=function(){m.bind("click",function(e){e.preventDefault();l.openElement(this)});a.find(".cascade-window-close-bar a").click(function(e){e.preventDefault();l.closeElement()})};this.openElement=function(e){if(!p){return}p=false;if(d(".cascade-window-content").html()!=""){l.closeElement();return}k=d(e);var f=0;var h=k.attr("id");var g=k.attr("class");k.css("z-index",2);m.animate({left:0},500,"easeOutExpo",function(i){f++;if(f==m.length){a.css("opacity","1");a.css("display","block");a.attr("class","cascade-window "+g);a.animate({width:"640px"},500,"easeOutBounce",function(){l.showPreloader(true);d.get("page/"+h,{},function(j){d(".cascade-window-content").html(j);b=d(".cascade-window-content").jScrollPane({maintainPosition:false}).data("jsp");l.showPreloader(false);l.showNavigation(true);d.getScript("script/page.js");p=true},"html")})}})};this.closeElement=function(e){p=false;if(b!=""){b.destroy();b=""}d(":input,a").qtip("destroy");d(".cascade-window-content").html("");l.showNavigation(false);a.animate({width:"0px",opacity:0},500,"easeOutBounce",function(){a.css("display","none");l.expandElements(e)})};this.expandElements=function(e){var f=0,g=0,h=-200;m.each(function(){d(this).css("z-index",1);h+=200+((f++)>0?20:0);d(this).animate({left:h},500,"easeOutExpo",function(){g++;if(g==m.length){p=true;if(typeof(e)!="undefined"){if(typeof(e.onComplete)!="undefined"){e.onComplete.apply()}}}})})};this.createNavigation=function(){n.each(function(){d(this).bind("click",function(e){e.preventDefault();if(d(this).hasClass("cascade-navigation-prev")){l.closeElement({onComplete:function(){var f=k.prev();if(f.length==0){f=o.find(".cascade-menu li:last")}l.openElement(f)}})}else{l.closeElement({onComplete:function(){var f=k.next();if(f.length==0){f=o.find(".cascade-menu li:first")}l.openElement(f)}})}})})};this.showNavigation=function(e){if(m.length>1){n.css("display",e?"block":"none")}};this.showPreloader=function(e){if(e){a.addClass("cascade-window-prealoder")}else{a.removeClass("cascade-window-prealoder")}}};d.fn.casadeLanding=function(){var a=new c(this);a.load();a.createNavigation()}})(jQuery);