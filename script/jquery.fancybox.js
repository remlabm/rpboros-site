(function(ao){var ae,W,Z,ad,aN,aE,ag,ap,ab,aq,an=0,ai={},aH=[],aM=0,aj={},ar=[],aL=null,aC=new Image(),aI=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,aG=/[^\.]\.(swf)\s*$/i,aB,ac=1,aJ=0,ax="",aP,aO,aa=false,ay=ao.extend(ao("<div/>")[0],{prop:0}),X=ao.browser.msie&&ao.browser.version<7&&!window.XMLHttpRequest,az=function(){W.hide();aC.onerror=aC.onload=null;if(aL){aL.abort()}ae.empty()},at=function(){if(false===ai.onError(aH,an,ai)){W.hide();aa=false;return}ai.titleShow=false;ai.width="auto";ai.height="auto";ae.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');aD()},au=function(){var e=aH[an],a,f,c,d,b,g;az();ai=ao.extend({},ao.fn.fancybox.defaults,(typeof ao(e).data("fancybox")=="undefined"?ai:ao(e).data("fancybox")));g=ai.onStart(aH,an,ai);if(g===false){aa=false;return}else{if(typeof g=="object"){ai=ao.extend(ai,g)}}c=ai.title||(e.nodeName?ao(e).attr("title"):e.title)||"";if(e.nodeName&&!ai.orig){ai.orig=ao(e).children("img:first").length?ao(e).children("img:first"):ao(e)}if(c===""&&ai.orig&&ai.titleFromAlt){c=ai.orig.attr("alt")}a=ai.href||(e.nodeName?ao(e).attr("href"):e.href)||null;if((/^(?:javascript)/i).test(a)||a=="#"){a=null}if(ai.type){f=ai.type;if(!a){a=ai.content}}else{if(ai.content){f="html"}else{if(a){if(a.match(aI)){f="image"}else{if(a.match(aG)){f="swf"}else{if(ao(e).hasClass("iframe")){f="iframe"}else{if(a.indexOf("#")===0){f="inline"}else{f="ajax"}}}}}}}if(!f){at();return}if(f=="inline"){e=a.substr(a.indexOf("#"));f=ao(e).length>0?"inline":"ajax"}ai.type=f;ai.href=a;ai.title=c;if(ai.autoDimensions){if(ai.type=="html"||ai.type=="inline"||ai.type=="ajax"){ai.width="auto";ai.height="auto"}else{ai.autoDimensions=false}}if(ai.modal){ai.overlayShow=true;ai.hideOnOverlayClick=false;ai.hideOnContentClick=false;ai.enableEscapeButton=false;ai.showCloseButton=false}ai.padding=parseInt(ai.padding,10);ai.margin=parseInt(ai.margin,10);ae.css("padding",(ai.padding+ai.margin));ao(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){ao(this).replaceWith(aE.children())});switch(f){case"html":ae.html(ai.content);aD();break;case"inline":if(ao(e).parent().is("#fancybox-content")===true){aa=false;return}ao('<div class="fancybox-inline-tmp" />').hide().insertBefore(ao(e)).bind("fancybox-cleanup",function(){ao(this).replaceWith(aE.children())}).bind("fancybox-cancel",function(){ao(this).replaceWith(ae.children())});ao(e).appendTo(ae);aD();break;case"image":aa=false;ao.fancybox.showActivity();aC=new Image();aC.onerror=function(){at()};aC.onload=function(){aa=true;aC.onerror=aC.onload=null;ak()};aC.src=a;break;case"swf":ai.scrolling="no";d='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+ai.width+'" height="'+ai.height+'"><param name="movie" value="'+a+'"></param>';b="";ao.each(ai.swf,function(i,h){d+='<param name="'+i+'" value="'+h+'"></param>';b+=" "+i+'="'+h+'"'});d+='<embed src="'+a+'" type="application/x-shockwave-flash" width="'+ai.width+'" height="'+ai.height+'"'+b+"></embed></object>";ae.html(d);aD();break;case"ajax":aa=false;ao.fancybox.showActivity();ai.ajax.win=ai.ajax.success;aL=ao.ajax(ao.extend({},ai.ajax,{url:a,data:ai.ajax.data||{},error:function(j,h,i){if(j.status>0){at()}},success:function(j,h,k){var i=typeof k=="object"?k:aL;if(i.status==200){if(typeof ai.ajax.win=="function"){g=ai.ajax.win(a,j,h,k);if(g===false){W.hide();return}else{if(typeof g=="string"||typeof g=="object"){j=g}}}ae.html(j);aD()}}}));break;case"iframe":al();break}},aD=function(){var b=ai.width,a=ai.height;if(b.toString().indexOf("%")>-1){b=parseInt((ao(window).width()-(ai.margin*2))*parseFloat(b)/100,10)+"px"}else{b=b=="auto"?"auto":b+"px"}if(a.toString().indexOf("%")>-1){a=parseInt((ao(window).height()-(ai.margin*2))*parseFloat(a)/100,10)+"px"}else{a=a=="auto"?"auto":a+"px"}ae.wrapInner('<div style="width:'+b+";height:"+a+";overflow: "+(ai.scrolling=="auto"?"auto":(ai.scrolling=="yes"?"scroll":"hidden"))+';position:relative;"></div>');ai.width=ae.width();ai.height=ae.height();al()},ak=function(){ai.width=aC.width;ai.height=aC.height;ao("<img />").attr({id:"fancybox-img",src:aC.src,alt:ai.title}).appendTo(ae);al()},al=function(){var a,b;W.hide();if(ad.is(":visible")&&false===aj.onCleanup(ar,aM,aj)){ao.event.trigger("fancybox-cancel");aa=false;return}aa=true;ao(aE.add(Z)).unbind();ao(window).unbind("resize.fb scroll.fb");ao(document).unbind("keydown.fb");if(ad.is(":visible")&&aj.titlePosition!=="outside"){ad.css("height",ad.height())}ar=aH;aM=an;aj=ai;if(aj.overlayShow){Z.css({"background-color":aj.overlayColor,opacity:aj.overlayOpacity,cursor:aj.hideOnOverlayClick?"pointer":"auto",height:ao(document).height()});if(!Z.is(":visible")){if(X){ao("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"})}Z.show()}}else{Z.hide()}aO=Y();aF();if(ad.is(":visible")){ao(ag.add(ab).add(aq)).hide();a=ad.position(),aP={top:a.top,left:a.left,width:ad.width(),height:ad.height()};b=(aP.width==aO.width&&aP.height==aO.height);aE.fadeTo(aj.changeFade,0.3,function(){var c=function(){aE.html(ae.contents()).fadeTo(aj.changeFade,1,av)};ao.event.trigger("fancybox-change");aE.empty().removeAttr("filter").css({"border-width":aj.padding,width:aO.width-aj.padding*2,height:ai.autoDimensions?"auto":aO.height-aJ-aj.padding*2});if(b){c()}else{ay.prop=0;ao(ay).animate({prop:1},{duration:aj.changeSpeed,easing:aj.easingChange,step:V,complete:c})}});return}ad.removeAttr("style");aE.css("border-width",aj.padding);if(aj.transitionIn=="elastic"){aP=ah();aE.html(ae.contents());ad.show();if(aj.opacity){aO.opacity=0}ay.prop=0;ao(ay).animate({prop:1},{duration:aj.speedIn,easing:aj.easingIn,step:V,complete:av});return}if(aj.titlePosition=="inside"&&aJ>0){ap.show()}aE.css({width:aO.width-aj.padding*2,height:ai.autoDimensions?"auto":aO.height-aJ-aj.padding*2}).html(ae.contents());ad.css(aO).fadeIn(aj.transitionIn=="none"?0:aj.speedIn,av)},am=function(a){if(a&&a.length){if(aj.titlePosition=="float"){return'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+a+'</td><td id="fancybox-title-float-right"></td></tr></table>'}return'<div id="fancybox-title-'+aj.titlePosition+'">'+a+"</div>"}return false},aF=function(){ax=aj.title||"";aJ=0;ap.empty().removeAttr("style").removeClass();if(aj.titleShow===false){ap.hide();return}ax=ao.isFunction(aj.titleFormat)?aj.titleFormat(ax,ar,aM,aj):am(ax);if(!ax||ax===""){ap.hide();return}ap.addClass("fancybox-title-"+aj.titlePosition).html(ax).appendTo("body").show();switch(aj.titlePosition){case"inside":ap.css({width:aO.width-(aj.padding*2),marginLeft:aj.padding,marginRight:aj.padding});aJ=ap.outerHeight(true);ap.appendTo(aN);aO.height+=aJ;break;case"over":ap.css({marginLeft:aj.padding,width:aO.width-(aj.padding*2),bottom:aj.padding}).appendTo(aN);break;case"float":ap.css("left",parseInt((ap.width()-aO.width-40)/2,10)*-1).appendTo(ad);break;default:ap.css({width:aO.width-(aj.padding*2),paddingLeft:aj.padding,paddingRight:aj.padding}).appendTo(ad);break}ap.hide()},aK=function(){if(aj.enableEscapeButton||aj.enableKeyboardNav){ao(document).bind("keydown.fb",function(a){if(a.keyCode==27&&aj.enableEscapeButton){a.preventDefault();ao.fancybox.close()}else{if((a.keyCode==37||a.keyCode==39)&&aj.enableKeyboardNav&&a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.target.tagName!=="SELECT"){a.preventDefault();ao.fancybox[a.keyCode==37?"prev":"next"]()}}})}if(!aj.showNavArrows){ab.hide();aq.hide();return}if((aj.cyclic&&ar.length>1)||aM!==0){ab.show()}if((aj.cyclic&&ar.length>1)||aM!=(ar.length-1)){aq.show()}},av=function(){if(!ao.support.opacity){aE.get(0).style.removeAttribute("filter");ad.get(0).style.removeAttribute("filter")}if(ai.autoDimensions){aE.css("height","auto")}ad.css("height","auto");if(ax&&ax.length){ap.show()}if(aj.showCloseButton){ag.show()}aK();if(aj.hideOnContentClick){aE.bind("click",ao.fancybox.close)}if(aj.hideOnOverlayClick){Z.bind("click",ao.fancybox.close)}ao(window).bind("resize.fb",ao.fancybox.resize);if(aj.centerOnScroll){ao(window).bind("scroll.fb",ao.fancybox.center)}if(aj.type=="iframe"){ao('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" '+(ao.browser.msie?'allowtransparency="true""':"")+' scrolling="'+ai.scrolling+'" src="'+aj.href+'"></iframe>').appendTo(aE)}ad.show();aa=false;ao.fancybox.center();aj.onComplete(ar,aM,aj);af()},af=function(){var b,a;if((ar.length-1)>aM){b=ar[aM+1].href;if(typeof b!=="undefined"&&b.match(aI)){a=new Image();a.src=b}}if(aM>0){b=ar[aM-1].href;if(typeof b!=="undefined"&&b.match(aI)){a=new Image();a.src=b}}},V=function(a){var b={width:parseInt(aP.width+(aO.width-aP.width)*a,10),height:parseInt(aP.height+(aO.height-aP.height)*a,10),top:parseInt(aP.top+(aO.top-aP.top)*a,10),left:parseInt(aP.left+(aO.left-aP.left)*a,10)};if(typeof aO.opacity!=="undefined"){b.opacity=a<0.5?0.5:a}ad.css(b);aE.css({width:b.width-aj.padding*2,height:b.height-(aJ*a)-aj.padding*2})},aw=function(){return[ao(window).width()-(aj.margin*2),ao(window).height()-(aj.margin*2),ao(document).scrollLeft()+aj.margin,ao(document).scrollTop()+aj.margin]},Y=function(){var b=aw(),c={},a=aj.autoScale,e=aj.padding*2,d;if(aj.width.toString().indexOf("%")>-1){c.width=parseInt((b[0]*parseFloat(aj.width))/100,10)}else{c.width=aj.width+e}if(aj.height.toString().indexOf("%")>-1){c.height=parseInt((b[1]*parseFloat(aj.height))/100,10)}else{c.height=aj.height+e}if(a&&(c.width>b[0]||c.height>b[1])){if(ai.type=="image"||ai.type=="swf"){d=(aj.width)/(aj.height);if((c.width)>b[0]){c.width=b[0];c.height=parseInt(((c.width-e)/d)+e,10)}if((c.height)>b[1]){c.height=b[1];c.width=parseInt(((c.height-e)*d)+e,10)}}else{c.width=Math.min(c.width,b[0]);c.height=Math.min(c.height,b[1])}}c.top=parseInt(Math.max(b[3]-20,b[3]+((b[1]-c.height-40)*0.5)),10);c.left=parseInt(Math.max(b[2]-20,b[2]+((b[0]-c.width-40)*0.5)),10);return c},aA=function(b){var a=b.offset();a.top+=parseInt(b.css("paddingTop"),10)||0;a.left+=parseInt(b.css("paddingLeft"),10)||0;a.top+=parseInt(b.css("border-top-width"),10)||0;a.left+=parseInt(b.css("border-left-width"),10)||0;a.width=b.width();a.height=b.height();return a},ah=function(){var c=ai.orig?ao(ai.orig):false,d={},a,b;if(c&&c.length){a=aA(c);d={width:a.width+(aj.padding*2),height:a.height+(aj.padding*2),top:a.top-aj.padding-20,left:a.left-aj.padding-20}}else{b=aw();d={width:aj.padding*2,height:aj.padding*2,top:parseInt(b[3]+b[1]*0.5,10),left:parseInt(b[2]+b[0]*0.5,10)}}return d},aQ=function(){if(!W.is(":visible")){clearInterval(aB);return}ao("div",W).css("top",(ac*-40)+"px");ac=(ac+1)%12};ao.fn.fancybox=function(a){if(!ao(this).length){return this}ao(this).data("fancybox",ao.extend({},a,(ao.metadata?ao(this).metadata():{}))).unbind("click.fb").bind("click.fb",function(c){c.preventDefault();if(aa){return}aa=true;ao(this).blur();aH=[];an=0;var b=ao(this).attr("rel")||"";if(!b||b==""||b==="nofollow"){aH.push(this)}else{aH=ao("a[rel="+b+"], area[rel="+b+"]");an=aH.index(this)}au();return});return this};ao.fancybox=function(c){var d;if(aa){return}aa=true;d=typeof arguments[1]!=="undefined"?arguments[1]:{};aH=[];an=parseInt(d.index,10)||0;if(ao.isArray(c)){for(var a=0,b=c.length;a<b;a++){if(typeof c[a]=="object"){ao(c[a]).data("fancybox",ao.extend({},d,c[a]))}else{c[a]=ao({}).data("fancybox",ao.extend({content:c[a]},d))}}aH=jQuery.merge(aH,c)}else{if(typeof c=="object"){ao(c).data("fancybox",ao.extend({},d,c))}else{c=ao({}).data("fancybox",ao.extend({content:c},d))}aH.push(c)}if(an>aH.length||an<0){an=0}au()};ao.fancybox.showActivity=function(){clearInterval(aB);W.show();aB=setInterval(aQ,66)};ao.fancybox.hideActivity=function(){W.hide()};ao.fancybox.next=function(){return ao.fancybox.pos(aM+1)};ao.fancybox.prev=function(){return ao.fancybox.pos(aM-1)};ao.fancybox.pos=function(a){if(aa){return}a=parseInt(a);aH=ar;if(a>-1&&a<ar.length){an=a;au()}else{if(aj.cyclic&&ar.length>1){an=a>=ar.length?0:ar.length-1;au()}}return};ao.fancybox.cancel=function(){if(aa){return}aa=true;ao.event.trigger("fancybox-cancel");az();ai.onCancel(aH,an,ai);aa=false};ao.fancybox.close=function(){if(aa||ad.is(":hidden")){return}aa=true;if(aj&&false===aj.onCleanup(ar,aM,aj)){aa=false;return}az();ao(ag.add(ab).add(aq)).hide();ao(aE.add(Z)).unbind();ao(window).unbind("resize.fb scroll.fb");ao(document).unbind("keydown.fb");aE.find("iframe").attr("src",X&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");if(aj.titlePosition!=="inside"){ap.empty()}ad.stop();function b(){Z.fadeOut("fast");ap.empty().hide();ad.hide();ao.event.trigger("fancybox-cleanup");aE.empty();aj.onClosed(ar,aM,aj);ar=ai=[];aM=an=0;aj=ai={};aa=false}if(aj.transitionOut=="elastic"){aP=ah();var a=ad.position();aO={top:a.top,left:a.left,width:ad.width(),height:ad.height()};if(aj.opacity){aO.opacity=1}ap.empty().hide();ay.prop=1;ao(ay).animate({prop:0},{duration:aj.speedOut,easing:aj.easingOut,step:V,complete:b})}else{ad.fadeOut(aj.transitionOut=="none"?0:aj.speedOut,b)}};ao.fancybox.resize=function(){if(Z.is(":visible")){Z.css("height",ao(document).height())}ao.fancybox.center(true)};ao.fancybox.center=function(){var b,a;if(aa){return}a=arguments[0]===true?1:0;b=aw();if(!a&&(ad.width()>b[0]||ad.height()>b[1])){return}ad.stop().animate({top:parseInt(Math.max(b[3]-20,b[3]+((b[1]-aE.height()-40)*0.5)-aj.padding)),left:parseInt(Math.max(b[2]-20,b[2]+((b[0]-aE.width()-40)*0.5)-aj.padding))},typeof arguments[0]=="number"?arguments[0]:200)};ao.fancybox.init=function(){if(ao("#fancybox-wrap").length){return}ao("body").append(ae=ao('<div id="fancybox-tmp"></div>'),W=ao('<div id="fancybox-loading"><div></div></div>'),Z=ao('<div id="fancybox-overlay"></div>'),ad=ao('<div id="fancybox-wrap"></div>'));aN=ao('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(ad);aN.append(aE=ao('<div id="fancybox-content"></div>'),ag=ao('<a id="fancybox-close"></a>'),ap=ao('<div id="fancybox-title"></div>'),ab=ao('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),aq=ao('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));ag.click(ao.fancybox.close);W.click(ao.fancybox.cancel);ab.click(function(a){a.preventDefault();ao.fancybox.prev()});aq.click(function(a){a.preventDefault();ao.fancybox.next()});if(ao.fn.mousewheel){ad.bind("mousewheel.fb",function(b,a){if(aa){b.preventDefault()}else{if(ao(b.target).get(0).clientHeight==0||ao(b.target).get(0).scrollHeight===ao(b.target).get(0).clientHeight){b.preventDefault();ao.fancybox[a>0?"prev":"next"]()}}})}if(!ao.support.opacity){ad.addClass("fancybox-ie")}if(X){W.addClass("fancybox-ie6");ad.addClass("fancybox-ie6");ao('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(aN)}};ao.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.7,overlayColor:"#777",titleShow:true,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};ao(document).ready(function(){ao.fancybox.init()})})(jQuery);