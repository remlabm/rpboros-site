(function(b){b.fn.bxSlider=function(aG){var au={mode:"horizontal",infiniteLoop:true,hideControlOnEnd:false,controls:true,speed:500,easing:"swing",pager:false,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextImage:"",nextSelector:null,prevText:"prev",prevImage:"",prevSelector:null,captions:false,captionsSelector:null,auto:false,autoDirection:"next",autoControls:false,autoControlsSelector:null,autoStart:true,autoHover:false,autoDelay:0,pause:3000,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:false,tickerSpeed:5000,tickerDirection:"next",tickerHover:false,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:false,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null};var aG=b.extend(au,aG);var aM=this;var aQ="";var aB="";var al="";var aC="";var ax="";var aY="";var ag="";var aO="";var ac="";var at="";var aV="";var a="";var ap="";var ah="";var ab="";var an=true;var aA=false;var aF=0;var ao=0;var aI=0;var aa=0;var aD=0;var aK=0;var aH=0;var aj=0;var aT=0;var ad=false;var ak=0;var aE=al.length-1;this.goToSlide=function(d,c){if(!ad){ad=true;aI=d;aG.onBeforeSlide(aI,al.length,al.eq(aI));if(typeof(c)=="undefined"){var c=true}if(c){if(aG.auto){aM.stopShow(true)}}slide=d;if(slide==ak){aG.onFirstSlide(aI,al.length,al.eq(aI))}if(slide==aE){aG.onLastSlide(aI,al.length,al.eq(aI))}if(aG.mode=="horizontal"){aQ.animate({left:"-"+ay(slide,"left")+"px"},aG.speed,aG.easing,function(){ad=false;aG.onAfterSlide(aI,al.length,al.eq(aI))})}else{if(aG.mode=="vertical"){aQ.animate({top:"-"+ay(slide,"top")+"px"},aG.speed,aG.easing,function(){ad=false;aG.onAfterSlide(aI,al.length,al.eq(aI))})}else{if(aG.mode=="fade"){az()}}}aW();if(aG.moveSlideQty>1){d=Math.floor(d/aG.moveSlideQty)}ar(d);af()}};this.goToNextSlide=function(c){if(typeof(c)=="undefined"){var c=true}if(c){if(aG.auto){aM.stopShow(true)}}if(!aG.infiniteLoop){if(!ad){var f=false;aI=(aI+(aG.moveSlideQty));if(aI<=aE){aW();aG.onNextSlide(aI,al.length,al.eq(aI));aM.goToSlide(aI)}else{aI-=aG.moveSlideQty}}}else{if(!ad){ad=true;var f=false;aI=(aI+aG.moveSlideQty);if(aI>aE){aI=aI%al.length;f=true}aG.onNextSlide(aI,al.length,al.eq(aI));aG.onBeforeSlide(aI,al.length,al.eq(aI));if(aG.mode=="horizontal"){var e=(aG.moveSlideQty*ag);aQ.animate({left:"-="+e+"px"},aG.speed,aG.easing,function(){ad=false;if(f){aQ.css("left","-"+ay(aI,"left")+"px")}aG.onAfterSlide(aI,al.length,al.eq(aI))})}else{if(aG.mode=="vertical"){var d=(aG.moveSlideQty*ao);aQ.animate({top:"-="+d+"px"},aG.speed,aG.easing,function(){ad=false;if(f){aQ.css("top","-"+ay(aI,"top")+"px")}aG.onAfterSlide(aI,al.length,al.eq(aI))})}else{if(aG.mode=="fade"){az()}}}if(aG.moveSlideQty>1){ar(Math.ceil(aI/aG.moveSlideQty))}else{ar(aI)}af()}}};this.goToPreviousSlide=function(c){if(typeof(c)=="undefined"){var c=true}if(c){if(aG.auto){aM.stopShow(true)}}if(!aG.infiniteLoop){if(!ad){var f=false;aI=aI-aG.moveSlideQty;if(aI<0){aI=0;if(aG.hideControlOnEnd){b(".bx-prev",aC).hide()}}aW();aG.onPrevSlide(aI,al.length,al.eq(aI));aM.goToSlide(aI)}}else{if(!ad){ad=true;var f=false;aI=(aI-(aG.moveSlideQty));if(aI<0){negativeOffset=(aI%al.length);if(negativeOffset==0){aI=0}else{aI=(al.length)+negativeOffset}f=true}aG.onPrevSlide(aI,al.length,al.eq(aI));aG.onBeforeSlide(aI,al.length,al.eq(aI));if(aG.mode=="horizontal"){var e=(aG.moveSlideQty*ag);aQ.animate({left:"+="+e+"px"},aG.speed,aG.easing,function(){ad=false;if(f){aQ.css("left","-"+ay(aI,"left")+"px")}aG.onAfterSlide(aI,al.length,al.eq(aI))})}else{if(aG.mode=="vertical"){var d=(aG.moveSlideQty*ao);aQ.animate({top:"+="+d+"px"},aG.speed,aG.easing,function(){ad=false;if(f){aQ.css("top","-"+ay(aI,"top")+"px")}aG.onAfterSlide(aI,al.length,al.eq(aI))})}else{if(aG.mode=="fade"){az()}}}if(aG.moveSlideQty>1){ar(Math.ceil(aI/aG.moveSlideQty))}else{ar(aI)}af()}}};this.goToFirstSlide=function(c){if(typeof(c)=="undefined"){var c=true}aM.goToSlide(ak,c)};this.goToLastSlide=function(){if(typeof(c)=="undefined"){var c=true}aM.goToSlide(aE,c)};this.getCurrentSlide=function(){return aI};this.getSlideCount=function(){return al.length};this.stopShow=function(c){clearInterval(aV);if(typeof(c)=="undefined"){var c=true}if(c&&aG.autoControls){a.html(ah).removeClass("stop").addClass("start");an=false}};this.startShow=function(c){if(typeof(c)=="undefined"){var c=true}aN();if(c&&aG.autoControls){a.html(ab).removeClass("start").addClass("stop");an=true}};this.stopTicker=function(c){aQ.stop();if(typeof(c)=="undefined"){var c=true}if(c&&aG.ticker){a.html(ah).removeClass("stop").addClass("start");an=false}};this.startTicker=function(g){if(aG.mode=="horizontal"){if(aG.tickerDirection=="next"){var e=parseInt(aQ.css("left"));var c=(aK+e)+al.eq(0).width()}else{if(aG.tickerDirection=="prev"){var e=-parseInt(aQ.css("left"));var c=(e)-al.eq(0).width()}}var d=(c*aG.tickerSpeed)/aK;av(aj,c,d)}else{if(aG.mode=="vertical"){if(aG.tickerDirection=="next"){var f=parseInt(aQ.css("top"));var c=(aH+f)+al.eq(0).height()}else{if(aG.tickerDirection=="prev"){var f=-parseInt(aQ.css("top"));var c=(f)-al.eq(0).height()}}var d=(c*aG.tickerSpeed)/aH;av(aT,c,d);if(typeof(g)=="undefined"){var g=true}if(g&&aG.ticker){a.html(ab).removeClass("start").addClass("stop");an=true}}}};this.initShow=function(){aQ=b(this);aB=aQ.clone();al=aQ.children();aC="";ax=aQ.children(":first");aY=ax.width();aF=0;ag=ax.outerWidth();ao=0;aO=aU();ac=ae();ad=false;at="";aI=0;aa=0;aD=0;aV="";a="";ap="";ah="";ab="";an=true;aA=false;aK=0;aH=0;aj=0;aT=0;ak=0;aE=al.length-1;al.each(function(d){if(b(this).outerHeight()>ao){ao=b(this).outerHeight()}if(b(this).outerWidth()>aF){aF=b(this).outerWidth()}});if(aG.randomStart){var c=Math.floor(Math.random()*al.length);aI=c;aa=ag*(aG.moveSlideQty+c);aD=ao*(aG.moveSlideQty+c)}else{aI=aG.startingSlide;aa=ag*(aG.moveSlideQty+aG.startingSlide);aD=ao*(aG.moveSlideQty+aG.startingSlide)}aL();if(aG.pager&&!aG.ticker){if(aG.pagerType=="full"){aq("full")}else{if(aG.pagerType=="short"){aq("short")}}}if(aG.controls&&!aG.ticker){aR()}if(aG.auto||aG.ticker){if(aG.autoControls){aJ()}if(aG.autoStart){setTimeout(function(){aM.startShow(true)},aG.autoDelay)}else{aM.stopShow(true)}if(aG.autoHover&&!aG.ticker){aw()}}if(aG.moveSlideQty>1){ar(Math.ceil(aI/aG.moveSlideQty))}else{ar(aI)}aW();if(aG.captions){af()}aG.onAfterSlide(aI,al.length,al.eq(aI))};this.destroyShow=function(){clearInterval(aV);b(".bx-next, .bx-prev, .bx-pager, .bx-auto",aC).remove();aQ.unwrap().unwrap().removeAttr("style");aQ.children().removeAttr("style").not(".pager").remove();al.removeClass("pager")};this.reloadShow=function(){aM.destroyShow();aM.initShow()};function aL(){ai(aG.startingSlide);if(aG.mode=="horizontal"){aQ.wrap('<div class="'+aG.wrapperClass+'" style="width:'+aO+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden; width:'+aO+'px;"></div>').css({width:"999999px",position:"relative",left:"-"+(aa)+"px"});aQ.children().css({width:aY,"float":"left",listStyle:"none"});aC=aQ.parent().parent();al.addClass("pager")}else{if(aG.mode=="vertical"){aQ.wrap('<div class="'+aG.wrapperClass+'" style="width:'+aF+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+aF+"px; height:"+ac+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+(aD)+"px"});aQ.children().css({listStyle:"none",height:ao});aC=aQ.parent().parent();al.addClass("pager")}else{if(aG.mode=="fade"){aQ.wrap('<div class="'+aG.wrapperClass+'" style="width:'+aF+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+ao+"px; width:"+aF+'px; position:relative; overflow:hidden;"></div>');aQ.children().css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98});aC=aQ.parent().parent();al.not(":eq("+aI+")").fadeTo(0,0);al.eq(aI).css("zIndex",99)}}}if(aG.captions&&aG.captionsSelector==null){aC.append('<div class="bx-captions"></div>')}}function ai(){if(aG.mode=="horizontal"||aG.mode=="vertical"){var d=am(al,0,aG.moveSlideQty,"backward");b.each(d,function(h){aQ.prepend(b(this))});var e=(al.length+aG.moveSlideQty)-1;var f=al.length-aG.displaySlideQty;var g=e-f;var c=am(al,0,g,"forward");if(aG.infiniteLoop){b.each(c,function(h){aQ.append(b(this))})}}}function aR(){if(aG.nextImage!=""){nextContent=aG.nextImage;nextType="image"}else{nextContent=aG.nextText;nextType="text"}if(aG.prevImage!=""){prevContent=aG.prevImage;prevType="image"}else{prevContent=aG.prevText;prevType="text"}aS(nextType,nextContent,prevType,prevContent)}function aN(){if(aG.auto){if(!aG.infiniteLoop){if(aG.autoDirection=="next"){aV=setInterval(function(){aI+=aG.moveSlideQty;if(aI>aE){aI=aI%al.length}aM.goToSlide(aI,false)},aG.pause)}else{if(aG.autoDirection=="prev"){aV=setInterval(function(){aI-=aG.moveSlideQty;if(aI<0){negativeOffset=(aI%al.length);if(negativeOffset==0){aI=0}else{aI=(al.length)+negativeOffset}}aM.goToSlide(aI,false)},aG.pause)}}}else{if(aG.autoDirection=="next"){aV=setInterval(function(){aM.goToNextSlide(false)},aG.pause)}else{if(aG.autoDirection=="prev"){aV=setInterval(function(){aM.goToPreviousSlide(false)},aG.pause)}}}}else{if(aG.ticker){aG.tickerSpeed*=10;b(".pager",aC).each(function(c){aK+=b(this).width();aH+=b(this).height()});if(aG.tickerDirection=="prev"&&aG.mode=="horizontal"){aQ.css("left","-"+(aK+aa)+"px")}else{if(aG.tickerDirection=="prev"&&aG.mode=="vertical"){aQ.css("top","-"+(aH+aD)+"px")}}if(aG.mode=="horizontal"){aj=parseInt(aQ.css("left"));av(aj,aK,aG.tickerSpeed)}else{if(aG.mode=="vertical"){aT=parseInt(aQ.css("top"));av(aT,aH,aG.tickerSpeed)}}if(aG.tickerHover){aP()}}}}function av(d,c,e){if(aG.mode=="horizontal"){if(aG.tickerDirection=="next"){aQ.animate({left:"-="+c+"px"},e,"linear",function(){aQ.css("left",d);av(d,aK,aG.tickerSpeed)})}else{if(aG.tickerDirection=="prev"){aQ.animate({left:"+="+c+"px"},e,"linear",function(){aQ.css("left",d);av(d,aK,aG.tickerSpeed)})}}}else{if(aG.mode=="vertical"){if(aG.tickerDirection=="next"){aQ.animate({top:"-="+c+"px"},e,"linear",function(){aQ.css("top",d);av(d,aH,aG.tickerSpeed)})}else{if(aG.tickerDirection=="prev"){aQ.animate({top:"+="+c+"px"},e,"linear",function(){aQ.css("top",d);av(d,aH,aG.tickerSpeed)})}}}}}function aJ(){if(aG.startImage!=""){startContent=aG.startImage;startType="image"}else{startContent=aG.startText;startType="text"}if(aG.stopImage!=""){stopContent=aG.stopImage;stopType="image"}else{stopContent=aG.stopText;stopType="text"}aX(startType,startContent,stopType,stopContent)}function aw(){aC.find(".bx-window").hover(function(){if(an){aM.stopShow(false)}},function(){if(an){aM.startShow(false)}})}function aP(){aQ.hover(function(){if(an){aM.stopTicker(false)}},function(){if(an){aM.startTicker(false)}})}function az(){al.not(":eq("+aI+")").fadeTo(aG.speed,0).css("zIndex",98);al.eq(aI).css("zIndex",99).fadeTo(aG.speed,1,function(){ad=false;if(jQuery.browser.msie){al.eq(aI).get(0).style.removeAttribute("filter")}aG.onAfterSlide(aI,al.length,al.eq(aI))})}function ar(c){if(aG.pagerType=="full"&&aG.pager){b("a",at).removeClass(aG.pagerActiveClass);b("a",at).eq(c).addClass(aG.pagerActiveClass)}else{if(aG.pagerType=="short"&&aG.pager){b(".bx-pager-current",at).html(aI+1)}}}function aS(c,d,h,g){var f=b('<a href="" class="bx-next"></a>');var e=b('<a href="" class="bx-prev"></a>');if(c=="text"){f.html(d)}else{f.html('<img src="'+d+'" />')}if(h=="text"){e.html(g)}else{e.html('<img src="'+g+'" />')}if(aG.prevSelector){b(aG.prevSelector).append(e)}else{aC.append(e)}if(aG.nextSelector){b(aG.nextSelector).append(f)}else{aC.append(f)}f.click(function(){aM.goToNextSlide();return false});e.click(function(){aM.goToPreviousSlide();return false})}function aq(d){var e=al.length;if(aG.moveSlideQty>1){if(al.length%aG.moveSlideQty!=0){e=Math.ceil(al.length/aG.moveSlideQty)}else{e=al.length/aG.moveSlideQty}}var c="";if(aG.buildPager){for(var g=0;g<e;g++){c+=aG.buildPager(g,al.eq(g*aG.moveSlideQty))}}else{if(d=="full"){for(var g=1;g<=e;g++){c+='<a href="" class="pager-link pager-'+g+'">'+g+"</a>"}}else{if(d=="short"){c='<span class="bx-pager-current">'+(aG.startingSlide+1)+"</span> "+aG.pagerShortSeparator+' <span class="bx-pager-total">'+al.length+"<span>"}}}if(aG.pagerSelector){b(aG.pagerSelector).append(c);at=b(aG.pagerSelector)}else{var f=b('<div class="bx-pager"></div>');f.append(c);if(aG.pagerLocation=="top"){aC.prepend(f)}else{if(aG.pagerLocation=="bottom"){aC.append(f)}}at=b(".bx-pager",aC)}at.children().click(function(){if(aG.pagerType=="full"){var h=at.children().index(this);if(aG.moveSlideQty>1){h*=aG.moveSlideQty}aM.goToSlide(h)}return false})}function af(){var c=b("img",al.eq(aI)).attr("title");if(c!=""){if(aG.captionsSelector){b(aG.captionsSelector).html(c)}else{b(".bx-captions",aC).html(c)}}else{if(aG.captionsSelector){b(aG.captionsSelector).html("Â ")}else{b(".bx-captions",aC).html("Â ")}}}function aX(e,d,f,c){a=b('<a href="" class="bx-start"></a>');if(e=="text"){ah=d}else{ah='<img src="'+d+'" />'}if(f=="text"){ab=c}else{ab='<img src="'+c+'" />'}if(aG.autoControlsSelector){b(aG.autoControlsSelector).append(a)}else{aC.append('<div class="bx-auto"></div>');b(".bx-auto",aC).html(a)}a.click(function(){if(aG.ticker){if(b(this).hasClass("stop")){aM.stopTicker()}else{if(b(this).hasClass("start")){aM.startTicker()}}}else{if(b(this).hasClass("stop")){aM.stopShow(true)}else{if(b(this).hasClass("start")){aM.startShow(true)}}}return false})}function aW(){if(!aG.infiniteLoop&&aG.hideControlOnEnd){if(aI==ak){b(".bx-prev",aC).hide()}else{b(".bx-prev",aC).show()}if(aI==aE){b(".bx-next",aC).hide()}else{b(".bx-next",aC).show()}}}function ay(c,d){if(d=="left"){var e=b(".pager",aC).eq(c).position().left}else{if(d=="top"){var e=b(".pager",aC).eq(c).position().top}}return e}function aU(){var c=ax.outerWidth()*aG.displaySlideQty;return c}function ae(){var c=ax.outerHeight()*aG.displaySlideQty;return c}function am(c,d,f,e){var g=[];var h=f;var i=false;if(e=="backward"){c=b.makeArray(c);c.reverse()}while(h>0){b.each(c,function(k,j){if(h>0){if(!i){if(k==d){i=true;g.push(b(this).clone());h--}}else{g.push(b(this).clone());h--}}else{return false}})}return g}this.each(function(){aM.initShow()});return this};jQuery.fx.prototype.cur=function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var a=parseFloat(jQuery.css(this.elem,this.prop));return a}})(jQuery);